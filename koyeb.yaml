name: bottin-des-artistes
service:
  name: bottin-des-artistes
  instance_type: nano
  ports:
    - port: 5000
      protocol: http
  scaling:
    min: 1
    max: 1
  envs:
    - key: NODE_ENV
      value: production
    - key: DATABASE_URL
      value: ${DATABASE_URL}
    - key: SESSION_SECRET
      value: ${SESSION_SECRET}
  routes:
    - path: /
      port: 5000
  healthchecks:
    path: /health
    port: 5000
    initial_delay: 30s
    interval: 15s
    timeout: 5s
    success_threshold: 1
    failure_threshold: 3